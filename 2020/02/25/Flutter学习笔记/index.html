<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta http-equiv="Content-Language" content="zh-cn">
    <meta charset="utf-8">
    
    
    <link rel="canonical" href="http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/">
    
    
    <title>Flutter-学习笔记 | 云笺 | 一些技术摘要和写作技巧</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    
    <meta name="theme-color" content="#77AAFF">
    
    
    <meta name="keywords" content="学习笔记,Flutter">
    
    

    

    <!-- Baidu Push -->
<script>
	(function(){
		var bp = document.createElement('script');
		var curProtocol = window.location.protocol.split(':')[0];
		if (curProtocol === 'https') {
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
		}
		else {
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
		}
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(bp, s);
	})();

	var _hmt = _hmt || [];
</script>



    
    <meta name="description" content="安装与运行Windows下载安装包：https://flutter.io/sdk-archive/#windows 临时镜像： 12export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn  在Flutter安装目录的flutter文件下找">
<meta name="keywords" content="学习笔记,Flutter">
<meta property="og:type" content="article">
<meta property="og:title" content="Flutter-学习笔记">
<meta property="og:url" content="http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/index.html">
<meta property="og:site_name" content="云笺">
<meta property="og:description" content="安装与运行Windows下载安装包：https://flutter.io/sdk-archive/#windows 临时镜像： 12export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn  在Flutter安装目录的flutter文件下找">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2021-10-18T09:38:46.475Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Flutter-学习笔记">
<meta name="twitter:description" content="安装与运行Windows下载安装包：https://flutter.io/sdk-archive/#windows 临时镜像： 12export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn  在Flutter安装目录的flutter文件下找">
    
        <link rel="alternate" type="application/atom+xml" title="云笺" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link id="style" rel="stylesheet" href="/css/style.css?v=3.0">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
            
</head>

<body>
    <div id="loading" class="active"></div>
    <aside id="menu"  class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" >
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg" alt="avatar">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname" id="name">小乂</h5>
          
            <div id="yiyanmotto" class="motto">&nbsp;</div>
          
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
              <li class="waves-block waves-effect">
                  <a href="/"  >
                    <i class="icon icon-lg icon-home"></i>
                    <span>主 页</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/archives"  >
                    <i class="icon icon-lg icon-archives"></i>
                    <span>归 档</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/categories"  >
                    <i class="icon icon-lg icon-th-list"></i>
                    <span>分 类</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/tags"  >
                    <i class="icon icon-lg icon-tags"></i>
                    <span>标 签</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/about"  >
                    <i class="icon icon-lg icon-link"></i>
                    <span>相 关</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
      <div class="nav2">
          
              <a class="nav2item" data-title="Email" href="mailto:wxy@iwxyi.com" target="_parent"title="Email" >
                <i class="icon icon-lg icon-envelope-o envelope-o"></i>
              </a>
          
              <a class="nav2item" data-title="Github" href="https://github.com/iwxyi" target="_blank"title="Github" >
                <i class="icon icon-lg icon-github github"></i>
              </a>
          
              <a class="nav2item" data-title="微博" href="https://weibo.com/u/6065548594" target="_blank"title="微博" >
                <i class="icon icon-lg icon-weibo weibo"></i>
              </a>
          

            </div>

      </ul>

    </div>
  </div>

</aside>


    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Flutter-学习笔记</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        <a href="../../atom.xml" target="_blank" class="header-icon waves-effect waves-circle waves-light" id="Rss">
            <i class="icon icon-lg icon-rss"></i>
        </a>
    </div>
</header>
<header class="content-header post-header">
    
    
    <div class="container fade-scale">
        <div id="myheader">
            <h1 class="title">
                
            </h1>
            <h5 class="subtitle">
                
                
            </h5>
        </div>
    </div>

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#安装与运行"><span class="post-toc-number">1.</span> <span class="post-toc-text">安装与运行</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Windows"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">Windows</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#编译桌面端"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">编译桌面端</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#第一个应用"><span class="post-toc-number">2.</span> <span class="post-toc-text">第一个应用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1、Hello-World"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1、Hello World</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2、Package"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2、Package</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3、State"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">3、State</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4、ListView"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">4、ListView</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5、onTap"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">5、onTap</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6、Router"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">6、Router</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7、Theme"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">7、Theme</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#完整代码"><span class="post-toc-number">2.8.</span> <span class="post-toc-text">完整代码</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Widget总览"><span class="post-toc-number">3.</span> <span class="post-toc-text">Widget总览</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#基础-Widget"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">基础 Widget</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#处理手势"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">处理手势</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#StatefulWidget"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">StatefulWidget</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Stateless-Stateful"><span class="post-toc-number">3.3.1.</span> <span class="post-toc-text">Stateless+Stateful</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#购物车示例"><span class="post-toc-number">3.3.2.</span> <span class="post-toc-text">购物车示例</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#生命周期事件"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">生命周期事件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Key"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">Key</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#全局-Key"><span class="post-toc-number">3.5.1.</span> <span class="post-toc-text">全局 Key</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#零散控件笔记"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">零散控件笔记</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#NestedScrollView"><span class="post-toc-number">3.6.1.</span> <span class="post-toc-text">NestedScrollView</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
   
<article id="post-Flutter学习笔记"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Flutter-学习笔记</h1>
        <div class="post-meta">
            <i class="icon icon-lg icon-calendar-o"></i>
            发表于
            <time class="post-time" title="2020-02-25 13:25:00" datetime="2020-02-25T05:25:00.000Z"  itemprop="datePublished">2020-02-25</time>

            <br id="mybreak"/>
            
	<i class="icon icon-lg icon-folder-o"></i>
	分类：<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Code/">Code</a></li></ul>


            <i>·</i>
            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>次浏览
</span>


        </div>
        <div class="post-count-custom">
            <i class="icon icon-lg icon-comment-o"></i>
            阅读本文可能花费您&nbsp;<span class="post-count">17</span>&nbsp;分钟
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="安装与运行"><a href="#安装与运行" class="headerlink" title="安装与运行"></a>安装与运行</h1><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>下载安装包：<a href="https://flutter.io/sdk-archive/#windows" target="_blank" rel="noopener">https://flutter.io/sdk-archive/#windows</a></p>
<p>临时镜像：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></tbody></table></figure>

<p>在Flutter安装目录的<code>flutter</code>文件下找到<code>flutter_console.bat</code>，双击运行并启动<strong>flutter命令行</strong>。</p>
<p>将 <code>flutter\bin</code> 添加到环境变量 <code>Path</code>。</p>
<h2 id="编译桌面端"><a href="#编译桌面端" class="headerlink" title="编译桌面端"></a>编译桌面端</h2><ol>
<li><p>安装go：<a href="https://studygolang.com/dl" target="_blank" rel="noopener">https://studygolang.com/dl</a></p>
</li>
<li><p>安装hover</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go env -w GOPROXY=https://goproxy.cn</span><br><span class="line">set GO111MODULE=on</span><br><span class="line">go get -u -a github.com/go-flutter-desktop/hover</span><br></pre></td></tr></tbody></table></figure>

<p>如果出现如下错误提示，则需要升级你的go版本，最低支持<code>1.12</code>：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmdApp.ProcessState.ExitCode undefined (type *os.ProcessState has no field or method ExitCode)</span><br></pre></td></tr></tbody></table></figure>

<p>还需要确保你的电脑具有GLFW的依赖：看这里<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fgo-flutter-desktop%2Fhover" target="_blank" rel="noopener">https://github.com/go-flutter-desktop/hover</a>，或者这里<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.glfw.org%2Fdocs%2Flatest%2Fcompile.html%23compile_deps" target="_blank" rel="noopener">https://www.glfw.org/docs/latest/compile.html#compile_deps</a>。</p>
</li>
<li><p>编译<br>第一次将hover应用于项目时，需要初始化桌面项目。<code>hover init</code>需要项目路径，通常是你在GitHub或者托管到git服务上的项目路径。如：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hover init github.com/iwxyi/QQ-Notification_Reply</span><br></pre></td></tr></tbody></table></figure>

<p>这路径不重要以后可以随时更改<br>执行初始化之后将在项目中创建desktop并添加样板文件，如go代码和默认图标。<br> 默认flutter项目是以<code>main.dart</code>作为入口文件，编译桌面应用，你需要新建一个名为<code>main_desktop.dart</code>的文件，并且在<code>runApp(..);</code>之前加上以下代码：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">debugDefaultTargetPlatformOverride =  TargetPlatform .fuchsia;</span><br></pre></td></tr></tbody></table></figure>

<p>然后执行<code>hover run</code>启动程序即可，项目启动后，在命令行按<code>r</code>可以热重载。<br> 要构建一个独立的应用程序可以使用<code>hover build</code>命令。输出在<code>desktop/build/outputs/Windows</code>目录中。</p>
</li>
</ol>
<h1 id="第一个应用"><a href="#第一个应用" class="headerlink" title="第一个应用"></a>第一个应用</h1><p>本笔记来源：<a href="https://flutterchina.club/" target="_blank" rel="noopener">Flutter中文网</a></p>
<a id="more"></a>

<h2 id="1、Hello-World"><a href="#1、Hello-World" class="headerlink" title="1、Hello World"></a>1、Hello World</h2><p><code>lib/main.dart</code>文件</p>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(<span class="keyword">new</span> MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MaterialApp(</span><br><span class="line">      title: <span class="string">'Welcome to Flutter'</span>,</span><br><span class="line">      home: <span class="keyword">new</span> Scaffold( <span class="comment">// Scaffold提供默认的导航栏、标题和主屏幕widget树</span></span><br><span class="line">        appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">          title: <span class="keyword">new</span> Text(<span class="string">'Welcome to Flutter'</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">new</span> Center(</span><br><span class="line">          child: <span class="keyword">new</span> Text(<span class="string">'Hello World'</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="2、Package"><a href="#2、Package" class="headerlink" title="2、Package"></a>2、Package</h2><p><code>pubspec.yaml</code></p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line"><span class="attr">  flutter:</span></span><br><span class="line"><span class="attr">    sdk:</span> <span class="string">flutter</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  cupertino_icons:</span> <span class="string">^0.1.0</span></span><br><span class="line"><span class="attr">  english_words:</span> <span class="string">^3.1.0</span></span><br></pre></td></tr></tbody></table></figure>

<p>点击右上角的 Packages get，会自动下载依赖包</p>
<p><code>lib/main.dart</code></p>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:english_words/english_words.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(<span class="keyword">new</span> MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">final</span> wordPair = <span class="keyword">new</span> WordPair.random();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MaterialApp(</span><br><span class="line">      title: <span class="string">'Welcome to Flutter'</span>,</span><br><span class="line">      home: <span class="keyword">new</span> Scaffold(</span><br><span class="line">        appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">          title: <span class="keyword">new</span> Text(<span class="string">'Welcome to Flutter'</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">new</span> Center(</span><br><span class="line"><span class="comment">//          child: new Text('Hello World'),</span></span><br><span class="line">          child: <span class="keyword">new</span> Text(wordPair.asPascalCase),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="3、State"><a href="#3、State" class="headerlink" title="3、State"></a>3、State</h2><p>StatefulWidget类本身是不变的，但是 State类在widget生命周期中始终存在</p>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:english_words/english_words.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(<span class="keyword">new</span> MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">final</span> wordPair = <span class="keyword">new</span> WordPair.random();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MaterialApp(</span><br><span class="line">      title: <span class="string">'Welcome to Flutter'</span>,</span><br><span class="line">      home: <span class="keyword">new</span> RandomWords(),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWords</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  createState() =&gt; <span class="keyword">new</span> RandomWordsState();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWordsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">RandomWords</span>&gt; </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">final</span> wordPair = <span class="keyword">new</span> WordPair.random();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Text(wordPair.asPascalCase);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="4、ListView"><a href="#4、ListView" class="headerlink" title="4、ListView"></a>4、ListView</h2><p>ListView设置方法：<code>ListView.builder( itemBuilder：(context, i) { } )</code></p>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Widget _buildList() {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> ListView.builder(itemBuilder: (context, i){</span><br><span class="line">    <span class="comment">// return new Text("Text"); // 简单文字</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListTile( <span class="comment">// 列表项组</span></span><br><span class="line">      title: <span class="keyword">new</span> Text(<span class="string">"text"</span>),</span><br><span class="line">      trailing: <span class="keyword">new</span> Icon(Icons.favorite),</span><br><span class="line">      onTap: (){},</span><br><span class="line">    );</span><br><span class="line">  });</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*...*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWordsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">RandomWords</span>&gt; </span>{</span><br><span class="line">  <span class="keyword">final</span> _suggestions = &lt;WordPair&gt;[]; <span class="comment">// 列表项</span></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Scaffold( <span class="comment">// 设置整体界面</span></span><br><span class="line">      appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">        title: <span class="keyword">new</span> Text(<span class="string">'Flutter'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: _buildSuggestions(),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 在Dart语言中使用下划线前缀标识符，会强制其变成私有的</span></span><br><span class="line">  Widget _buildSuggestions() {</span><br><span class="line">    <span class="comment">// ListView类提供了一个builder属性，itemBuilder 值是一个匿名回调函数， 接受两个参数</span></span><br><span class="line">    <span class="comment">// - BuildContext和行迭代器i。迭代器从0开始， 每调用一次该函数，i就会自增1，对于每个</span></span><br><span class="line">    <span class="comment">// 建议的单词对都会执行一次。该模型允许建议的单词对列表在用户滚动时无限增长。</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListView.builder(</span><br><span class="line">      padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">16.0</span>),</span><br><span class="line">      <span class="comment">// 对于每个建议的单词对都会调用一次itemBuilder，然后将单词对添加到ListTile行中</span></span><br><span class="line">      <span class="comment">// 在偶数行，该函数会为单词对添加一个ListTile row.</span></span><br><span class="line">      <span class="comment">// 在奇数行，该函数会添加一个分割线widget，来分隔相邻的词对。</span></span><br><span class="line">      <span class="comment">// 注意，在小屏幕上，分割线看起来可能比较吃力。</span></span><br><span class="line">      itemBuilder: (context, i) {</span><br><span class="line">        <span class="comment">// 在每一列之前，添加一个1像素高的分隔线widget</span></span><br><span class="line">        <span class="keyword">if</span> (i.isOdd) <span class="keyword">return</span> <span class="keyword">new</span> Divider();</span><br><span class="line">        <span class="comment">// 语法 "i ~/ 2" 表示i除以2，但返回值是整形（向下取整），比如i为：1, 2, 3, 4, 5</span></span><br><span class="line">        <span class="comment">// 时，结果为0, 1, 1, 2, 2， 这可以计算出ListView中减去分隔线后的实际单词对数量</span></span><br><span class="line">        <span class="keyword">final</span> index = i ~/ <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// 如果是建议列表中最后一个单词对</span></span><br><span class="line">        <span class="keyword">if</span> (index &gt;= _suggestions.length) {</span><br><span class="line">          <span class="comment">// 接着再生成10个单词对，然后添加到建议列表</span></span><br><span class="line">          _suggestions.addAll(generateWordPairs().take(<span class="number">10</span>));</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> _buildRow(_suggestions[index]);</span><br><span class="line">      },</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  Widget _buildRow(WordPair pair) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListTile(</span><br><span class="line">      title: <span class="keyword">new</span> Text(</span><br><span class="line">        pair.asPascalCase,</span><br><span class="line">        style: <span class="keyword">new</span> TextStyle(fontSize: <span class="number">18.0</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="5、onTap"><a href="#5、onTap" class="headerlink" title="5、onTap"></a>5、onTap</h2><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*...*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWordsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">RandomWords</span>&gt; </span>{</span><br><span class="line">  <span class="keyword">final</span> _suggestions = &lt;WordPair&gt;[];</span><br><span class="line">  <span class="keyword">final</span> _saved = <span class="keyword">new</span> <span class="built_in">Set</span>&lt;WordPair&gt;(); <span class="comment">// 收藏的单词</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">/*...*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 记录每一项的状态</span></span><br><span class="line">  Widget _buildRow(WordPair pair) {</span><br><span class="line">    <span class="keyword">final</span> alreadySaved = _saved.contains(pair);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListTile(</span><br><span class="line">      title: <span class="keyword">new</span> Text(</span><br><span class="line">        pair.asPascalCase,</span><br><span class="line">        style: <span class="keyword">new</span> TextStyle(fontSize: <span class="number">18.0</span>),</span><br><span class="line">      ),</span><br><span class="line">      trailing: <span class="keyword">new</span> Icon(</span><br><span class="line">        alreadySaved ? Icons.favorite : Icons.favorite_border,</span><br><span class="line">        color: alreadySaved ? Colors.red : <span class="keyword">null</span>,</span><br><span class="line">      ),</span><br><span class="line">      onTap: (){ <span class="comment">// 会出现点击水波纹动画效果</span></span><br><span class="line">        setState((){ <span class="comment">// 调用setState() 会为State对象触发build()方法，导致UI更新</span></span><br><span class="line">          <span class="keyword">if</span> (alreadySaved) {</span><br><span class="line">            _saved.remove(pair); <span class="comment">// 移除出收藏夹</span></span><br><span class="line">          } <span class="keyword">else</span> {</span><br><span class="line">            _saved.add(pair);    <span class="comment">// 加入到收藏夹</span></span><br><span class="line">          }</span><br><span class="line">        });</span><br><span class="line">      },</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="6、Router"><a href="#6、Router" class="headerlink" title="6、Router"></a>6、Router</h2><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWordsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">RandomWords</span>&gt; </span>{</span><br><span class="line">  <span class="keyword">final</span> _suggestions = &lt;WordPair&gt;[];</span><br><span class="line">  <span class="keyword">final</span> _saved = <span class="keyword">new</span> <span class="built_in">Set</span>&lt;WordPair&gt;();</span><br><span class="line">  <span class="keyword">final</span> _biggerFont = <span class="keyword">const</span> TextStyle(fontSize: <span class="number">18.0</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Scaffold(</span><br><span class="line">      appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">        title: <span class="keyword">new</span> Text(<span class="string">'Flutter'</span>),</span><br><span class="line">        <span class="comment">// 为AppBar添加一个列表图标，以及点击事件</span></span><br><span class="line">        actions: &lt;Widget&gt;[</span><br><span class="line">          <span class="keyword">new</span> IconButton(icon: <span class="keyword">new</span> Icon(Icons.list), onPressed: _pushSaved),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">      body: _buildSuggestions(),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">    </span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _pushSaved() {</span><br><span class="line">    <span class="comment">// 添加Navigator.push调用，这会使路由入栈（以后路由入栈均指推入到导航管理器的栈）s</span></span><br><span class="line">    Navigator.of(context).push(</span><br><span class="line">      <span class="comment">// 添加MaterialPageRoute及其builder</span></span><br><span class="line">      <span class="keyword">new</span> MaterialPageRoute(builder: (context){</span><br><span class="line">        <span class="comment">// 生成ListTile行</span></span><br><span class="line">        <span class="keyword">final</span> tiles = _saved.map((pair) {</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> ListTile(</span><br><span class="line">            title: <span class="keyword">new</span> Text(</span><br><span class="line">              pair.asPascalCase,</span><br><span class="line">              style: _biggerFont,</span><br><span class="line">            ),</span><br><span class="line">          );</span><br><span class="line">        });</span><br><span class="line">        <span class="comment">// ListTile的divideTiles()方法在每个ListTile之间添加1像素的分割线</span></span><br><span class="line">        <span class="keyword">final</span> divided = ListTile</span><br><span class="line">            .divideTiles(</span><br><span class="line">            context: context,</span><br><span class="line">            tiles: tiles</span><br><span class="line">        ).toList();</span><br><span class="line">      </span><br><span class="line">        <span class="comment">// builder返回一个Scaffold</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Scaffold(</span><br><span class="line">          appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">            title: <span class="keyword">new</span> Text(<span class="string">'Saved Suggestions'</span>),</span><br><span class="line">          ),</span><br><span class="line">          body: <span class="keyword">new</span> ListView(children: divided),</span><br><span class="line">        );</span><br><span class="line">      }),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="7、Theme"><a href="#7、Theme" class="headerlink" title="7、Theme"></a>7、Theme</h2><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MaterialApp(</span><br><span class="line">      title: <span class="string">'Welcome to Flutter'</span>,</span><br><span class="line">      <span class="comment">// 设置主色调白色（包括应用栏）</span></span><br><span class="line">      theme: <span class="keyword">new</span> ThemeData(</span><br><span class="line">        primaryColor: Colors.white,</span><br><span class="line">      ),</span><br><span class="line">      home: <span class="keyword">new</span> RandomWords(),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:english_words/english_words.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; runApp(<span class="keyword">new</span> MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MaterialApp(</span><br><span class="line">      title: <span class="string">'Welcome to Flutter'</span>,</span><br><span class="line">      <span class="comment">// 设置主色调白色（包括应用栏）</span></span><br><span class="line">      theme: <span class="keyword">new</span> ThemeData(</span><br><span class="line">        primaryColor: Colors.white,</span><br><span class="line">      ),</span><br><span class="line">      home: <span class="keyword">new</span> RandomWords(),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWords</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  createState() =&gt; <span class="keyword">new</span> RandomWordsState();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWordsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">RandomWords</span>&gt; </span>{</span><br><span class="line">  <span class="comment">// 在Dart语言中使用下划线前缀标识符，会强制其变成私有的</span></span><br><span class="line">  <span class="keyword">final</span> _suggestions = &lt;WordPair&gt;[];  <span class="comment">// 列表项</span></span><br><span class="line">  <span class="keyword">final</span> _saved = <span class="keyword">new</span> <span class="built_in">Set</span>&lt;WordPair&gt;(); <span class="comment">// 收藏的单词</span></span><br><span class="line">  <span class="keyword">final</span> _biggerFont = <span class="keyword">const</span> TextStyle(fontSize: <span class="number">18.0</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Scaffold(  <span class="comment">// Scaffold提供默认的导航栏、标题和主屏幕widget树</span></span><br><span class="line">      appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">        title: <span class="keyword">new</span> Text(<span class="string">'Flutter'</span>),</span><br><span class="line">        <span class="comment">// 为AppBar添加一个列表图标</span></span><br><span class="line">        actions: &lt;Widget&gt;[</span><br><span class="line">          <span class="keyword">new</span> IconButton(icon: <span class="keyword">new</span> Icon(Icons.list), onPressed: _pushSaved),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">      body: _buildSuggestions(),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="markdown">/// 加载整个列表</span></span></span><br><span class="line">  Widget _buildSuggestions() {</span><br><span class="line">    <span class="comment">// ListView类提供了一个builder属性，itemBuilder 值是一个匿名回调函数， 接受两个参数</span></span><br><span class="line">    <span class="comment">// - BuildContext和行迭代器i。迭代器从0开始， 每调用一次该函数，i就会自增1，对于每个</span></span><br><span class="line">    <span class="comment">// 建议的单词对都会执行一次。该模型允许建议的单词对列表在用户滚动时无限增长。</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListView.builder(</span><br><span class="line">      padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">16.0</span>),</span><br><span class="line">      <span class="comment">// 对于每个建议的单词对都会调用一次itemBuilder，然后将单词对添加到ListTile行中</span></span><br><span class="line">      <span class="comment">// 在偶数行，该函数会为单词对添加一个ListTile row.</span></span><br><span class="line">      <span class="comment">// 在奇数行，该函数会添加一个分割线widget，来分隔相邻的词对。</span></span><br><span class="line">      <span class="comment">// 注意，在小屏幕上，分割线看起来可能比较吃力。</span></span><br><span class="line">      itemBuilder: (context, i) {</span><br><span class="line">        <span class="comment">// 在每一列之前，添加一个1像素高的分隔线widget</span></span><br><span class="line">        <span class="keyword">if</span> (i.isOdd) <span class="keyword">return</span> <span class="keyword">new</span> Divider();</span><br><span class="line">        <span class="comment">// 语法 "i ~/ 2" 表示i除以2，但返回值是整形（向下取整），比如i为：1, 2, 3, 4, 5</span></span><br><span class="line">        <span class="comment">// 时，结果为0, 1, 1, 2, 2， 这可以计算出ListView中减去分隔线后的实际单词对数量</span></span><br><span class="line">        <span class="keyword">final</span> index = i ~/ <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// 如果是建议列表中最后一个单词对</span></span><br><span class="line">        <span class="keyword">if</span> (index &gt;= _suggestions.length) {</span><br><span class="line">          <span class="comment">// 接着再生成10个单词对，然后添加到建议列表</span></span><br><span class="line">          _suggestions.addAll(generateWordPairs().take(<span class="number">10</span>));</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> _buildRow(_suggestions[index]);</span><br><span class="line">      },</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="markdown">/// 加载一行</span></span></span><br><span class="line">  Widget _buildRow(WordPair pair) {</span><br><span class="line">    <span class="keyword">final</span> alreadySaved = _saved.contains(pair); <span class="comment">// 记录每一项的状态</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListTile(</span><br><span class="line">      title: <span class="keyword">new</span> Text(</span><br><span class="line">        pair.asPascalCase,</span><br><span class="line">        style: _biggerFont,</span><br><span class="line">      ),</span><br><span class="line">      trailing: <span class="keyword">new</span> Icon(</span><br><span class="line">        alreadySaved ? Icons.favorite : Icons.favorite_border,</span><br><span class="line">        color: alreadySaved ? Colors.red : <span class="keyword">null</span>,</span><br><span class="line">      ),</span><br><span class="line">      onTap: (){ <span class="comment">// 会出现点击水波纹动画效果</span></span><br><span class="line">        setState((){ <span class="comment">// 调用setState() 会为State对象触发build()方法，导致UI更新</span></span><br><span class="line">          <span class="keyword">if</span> (alreadySaved) {</span><br><span class="line">            _saved.remove(pair); <span class="comment">// 移除出收藏夹</span></span><br><span class="line">          } <span class="keyword">else</span> {</span><br><span class="line">            _saved.add(pair);    <span class="comment">// 加入到收藏夹</span></span><br><span class="line">          }</span><br><span class="line">        });</span><br><span class="line">      },</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="markdown">/// 单击事件</span></span></span><br><span class="line">  <span class="keyword">void</span> _pushSaved() {</span><br><span class="line">    <span class="comment">// 添加Navigator.push调用，这会使路由入栈（以后路由入栈均指推入到导航管理器的栈）s</span></span><br><span class="line">    Navigator.of(context).push(</span><br><span class="line">      <span class="comment">// 添加MaterialPageRoute及其builder</span></span><br><span class="line">      <span class="keyword">new</span> MaterialPageRoute(builder: (context){</span><br><span class="line">        <span class="comment">// 生成ListTile行</span></span><br><span class="line">        <span class="keyword">final</span> tiles = _saved.map((pair) {</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> ListTile(</span><br><span class="line">            title: <span class="keyword">new</span> Text(</span><br><span class="line">              pair.asPascalCase,</span><br><span class="line">              style: _biggerFont,</span><br><span class="line">            ),</span><br><span class="line">          );</span><br><span class="line">        });</span><br><span class="line">        <span class="comment">// ListTile的divideTiles()方法在每个ListTile之间添加1像素的分割线</span></span><br><span class="line">        <span class="keyword">final</span> divided = ListTile</span><br><span class="line">            .divideTiles(</span><br><span class="line">            context: context,</span><br><span class="line">            tiles: tiles</span><br><span class="line">        ).toList();</span><br><span class="line">      </span><br><span class="line">        <span class="comment">// builder返回一个Scaffold</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Scaffold(</span><br><span class="line">          appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">            title: <span class="keyword">new</span> Text(<span class="string">'Saved Suggestions'</span>),</span><br><span class="line">          ),</span><br><span class="line">          body: <span class="keyword">new</span> ListView(children: divided),</span><br><span class="line">        );</span><br><span class="line">      }),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="Widget总览"><a href="#Widget总览" class="headerlink" title="Widget总览"></a>Widget总览</h1><p><a href="https://flutterchina.club/widgets/" target="_blank" rel="noopener">Widget目录</a></p>
<h2 id="基础-Widget"><a href="#基础-Widget" class="headerlink" title="基础 Widget"></a>基础 Widget</h2><ul>
<li>Text</li>
<li>Row、Column</li>
<li>Stack</li>
<li>Container：矩形视觉元素</li>
</ul>
<h2 id="处理手势"><a href="#处理手势" class="headerlink" title="处理手势"></a>处理手势</h2><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyButton</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="comment">// 使用GestureDetector来检测各种输入手势，包括点击、拖动和缩放</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> GestureDetector( <span class="comment">// GestureDetector 不具有显示效果</span></span><br><span class="line">      onTap: () {</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'MyButton was tapped!'</span>);</span><br><span class="line">      },</span><br><span class="line">      child: <span class="keyword">new</span> Container(</span><br><span class="line">        height: <span class="number">36.0</span>,</span><br><span class="line">        padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">        margin: <span class="keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="number">8.0</span>),</span><br><span class="line">        decoration: <span class="keyword">new</span> BoxDecoration(</span><br><span class="line">          borderRadius: <span class="keyword">new</span> BorderRadius.circular(<span class="number">5.0</span>),</span><br><span class="line">          color: Colors.lightGreen[<span class="number">500</span>],</span><br><span class="line">        ),</span><br><span class="line">        child: <span class="keyword">new</span> Center(</span><br><span class="line">          child: <span class="keyword">new</span> Text(<span class="string">'Engage'</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="StatefulWidget"><a href="#StatefulWidget" class="headerlink" title="StatefulWidget"></a>StatefulWidget</h2><p>每次点击“Increment”按钮，显示的Count+1</p>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_CounterState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Counter</span>&gt; </span>{</span><br><span class="line">  <span class="built_in">int</span> _counter = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">void</span> _increment() {</span><br><span class="line">    setState(() {</span><br><span class="line">      <span class="comment">// 告诉Flutter这个State发生改变，并通过build()刷新界面</span></span><br><span class="line">      _counter++;</span><br><span class="line">    });</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 多次build()，class中的成员变量保持不变</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="comment">// 每次setState()被调用(即_increment())，立即运行build()</span></span><br><span class="line">    <span class="comment">// 任何更新界面的改动都会在这里</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Row(</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        <span class="keyword">new</span> RaisedButton(</span><br><span class="line">          onPressed: _increment,</span><br><span class="line">          child: <span class="keyword">new</span> Text(<span class="string">'Increment'</span>),</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">new</span> Text(<span class="string">'Count: <span class="subst">$_counter</span>'</span>),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Stateless-Stateful"><a href="#Stateless-Stateful" class="headerlink" title="Stateless+Stateful"></a>Stateless+Stateful</h3><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() {</span><br><span class="line">  runApp(<span class="keyword">new</span> MaterialApp(</span><br><span class="line">    title: <span class="string">'Flutter Tutorial'</span>,</span><br><span class="line">    home: <span class="keyword">new</span> Counter(),</span><br><span class="line">  ));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计数显示</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterDisplay</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  CounterDisplay({<span class="keyword">this</span>.count});</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> count;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Text(<span class="string">'Count: <span class="subst">$count</span>'</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计数按钮</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterIncrementor</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  CounterIncrementor({<span class="keyword">this</span>.onPressed});</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">final</span> VoidCallback onPressed; <span class="comment">// 按下按钮的回调</span></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> RaisedButton(</span><br><span class="line">      onPressed: onPressed,</span><br><span class="line">      child: <span class="keyword">new</span> Text(<span class="string">'Increment'</span>),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计数组件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>{</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _CounterState createState() =&gt; <span class="keyword">new</span> _CounterState();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计数State</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_CounterState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Counter</span>&gt; </span>{</span><br><span class="line">  <span class="built_in">int</span> _counter = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">void</span> _increment() {</span><br><span class="line">    setState(() {</span><br><span class="line">      ++_counter;</span><br><span class="line">    });</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Row(children: &lt;Widget&gt;[</span><br><span class="line">      <span class="keyword">new</span> CounterIncrementor(onPressed: _increment),</span><br><span class="line">      <span class="keyword">new</span> CounterDisplay(count: _counter),</span><br><span class="line">    ]);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="购物车示例"><a href="#购物车示例" class="headerlink" title="购物车示例"></a>购物车示例</h3><figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>{</span><br><span class="line">  <span class="keyword">const</span> Product({<span class="keyword">this</span>.name});</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> name;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">void</span> CartChangedCallback(Product product, <span class="built_in">bool</span> inCart);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单个Item的控件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShoppingListItem</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>{</span><br><span class="line">  ShoppingListItem({Product product, <span class="keyword">this</span>.inCart, <span class="keyword">this</span>.onCartChanged})</span><br><span class="line">      : product = product,</span><br><span class="line">        <span class="keyword">super</span>(key: <span class="keyword">new</span> ObjectKey(product)); <span class="comment">// 属性值作为构造函数参数传入</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">final</span> Product product;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> inCart;</span><br><span class="line">  <span class="keyword">final</span> CartChangedCallback onCartChanged;</span><br><span class="line">  </span><br><span class="line">  Color _getColor(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> inCart ? Colors.black54 : Theme.of(context).primaryColor;</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  TextStyle _getTextStyle(BuildContext context) {</span><br><span class="line">    <span class="keyword">if</span> (!inCart) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> TextStyle(</span><br><span class="line">      color: Colors.black54,</span><br><span class="line">      decoration: TextDecoration.lineThrough,</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListTile(</span><br><span class="line">      onTap: () {</span><br><span class="line">        onCartChanged(product, !inCart);</span><br><span class="line">      },</span><br><span class="line">      leading: <span class="keyword">new</span> CircleAvatar( <span class="comment">// 圆角图像框</span></span><br><span class="line">        backgroundColor: _getColor(context),</span><br><span class="line">        child: <span class="keyword">new</span> Text(product.name[<span class="number">0</span>]), <span class="comment">// 名字首字母作为头像</span></span><br><span class="line">      ),</span><br><span class="line">      title: <span class="keyword">new</span> Text(product.name, style: _getTextStyle(context)),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>该<code>ShoppingListItem</code> widget是无状态的。它将其在构造函数中接收到的值存储在<code>final</code>成员变量中，然后在<code>build</code>函数中使用它们。 例如，<code>inCart</code>布尔值表示在两种视觉展示效果之间切换：一个使用当前主题的主色，另一个使用灰色。</p>
<p>当用户点击列表项时，widget不会直接修改其<code>inCart</code>的值。相反，widget会调用其父widget给它的<code>onCartChanged</code>回调函数。 此模式可让您在widget层次结构中存储更高的状态，从而使状态持续更长的时间。在极端情况下，存储传给<a href="https://docs.flutter.io/flutter/widgets/runApp.html" target="_blank" rel="noopener"><code>runApp</code></a>应用程序的widget的状态将在的整个生命周期中持续存在。</p>
<p>当父项收到<code>onCartChanged</code>回调时，父项将更新其内部状态，这将触发父项使用新<code>inCart</code>值重建<code>ShoppingListItem</code>新实例。 虽然父项<code>ShoppingListItem</code>在重建时创建了一个新实例，但该操作开销<strong>很小</strong>，因为Flutter框架会将新构建的widget与先前构建的widget进行比较，并仅将差异部分应用于底层<a href="https://docs.flutter.io/flutter/rendering/RenderObject-class.html" target="_blank" rel="noopener"><code>RenderObject</code></a>。</p>
<hr>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShoppingList</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>{</span><br><span class="line">  ShoppingList({Key key, <span class="keyword">this</span>.products}) : <span class="keyword">super</span>(key: key);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Product&gt; products; <span class="comment">// 先作为构造函数参数传入，之后传递到 State 中</span></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _ShoppingListState createState() =&gt; <span class="keyword">new</span> _ShoppingListState();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_ShoppingListState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">ShoppingList</span>&gt; </span>{</span><br><span class="line">  <span class="built_in">Set</span>&lt;Product&gt; _shoppingCart = <span class="keyword">new</span> <span class="built_in">Set</span>&lt;Product&gt;(); <span class="comment">// 延长Item值生命周期</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Item 单击事件，作为参数传入 item 的 Widget 中</span></span><br><span class="line">  <span class="keyword">void</span> _handleCartChanged(Product product, <span class="built_in">bool</span> inCart) {</span><br><span class="line">    setState(() { <span class="comment">// 通知更新界面，即重新调用 build()</span></span><br><span class="line">      <span class="keyword">if</span> (inCart)</span><br><span class="line">        _shoppingCart.add(product);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        _shoppingCart.remove(product);</span><br><span class="line">    });</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Scaffold(</span><br><span class="line">      appBar: <span class="keyword">new</span> AppBar(</span><br><span class="line">        title: <span class="keyword">new</span> Text(<span class="string">'Shopping List'</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: <span class="keyword">new</span> ListView(</span><br><span class="line">        padding: <span class="keyword">new</span> EdgeInsets.symmetric(vertical: <span class="number">8.0</span>),</span><br><span class="line">        <span class="comment">// 获取并遍历ShoppingList.products，从 Widget 中传递到 State</span></span><br><span class="line">        <span class="comment">// ☆返回单行控件，List&lt;Product&gt; =&gt; Map&lt;Widget&gt; =&gt; List&lt;Widget&gt;</span></span><br><span class="line">        children: widget.products.map((Product product) {</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> ShoppingListItem(</span><br><span class="line">            product: product,</span><br><span class="line">            inCart: _shoppingCart.contains(product),</span><br><span class="line">            onCartChanged: _handleCartChanged,</span><br><span class="line">          );</span><br><span class="line">        }).toList(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() {</span><br><span class="line">  runApp(<span class="keyword">new</span> MaterialApp(</span><br><span class="line">    title: <span class="string">'Shopping App'</span>,</span><br><span class="line">    home: <span class="keyword">new</span> ShoppingList(</span><br><span class="line">      products: &lt;Product&gt;[ <span class="comment">// 直接拟造数据list</span></span><br><span class="line">        <span class="keyword">new</span> Product(name: <span class="string">'Eggs'</span>),</span><br><span class="line">        <span class="keyword">new</span> Product(name: <span class="string">'Flour'</span>),</span><br><span class="line">        <span class="keyword">new</span> Product(name: <span class="string">'Chocolate chips'</span>),</span><br><span class="line">      ],</span><br><span class="line">    ),</span><br><span class="line">  ));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>当这个widget的父级重建时，父级将创建一个新的<code>ShoppingList</code>实例，但是Flutter框架将重用已经在树中的<code>_ShoppingListState</code>实例，而<strong>不是再次调用</strong><a href="https://docs.flutter.io/flutter/widgets/StatefulWidget-class.html#createState" target="_blank" rel="noopener"><code>createState</code></a>创建一个新的。</p>
<p>要访问当前<code>ShoppingList</code>的属性，<code>_ShoppingListState</code>可以使用它的<code>widget</code>属性。 如果父级重建并创建一个新的ShoppingList，那么 <code>_ShoppingListState</code>也将用新的<code>widget</code>值重建。如果希望在<code>widget</code>属性更改时收到通知，则可以覆盖<code>didUpdateWidget</code>函数，以便将旧的<code>oldWidget</code>与当前<code>widget</code>进行比较。</p>
<h2 id="生命周期事件"><a href="#生命周期事件" class="headerlink" title="生命周期事件"></a>生命周期事件</h2><p>在StatefulWidget调用<code>createState</code>之后，框架将新的状态对象插入树中，然后调用状态对象的<a href="https://docs.flutter.io/flutter/widgets/State-class.html#initState" target="_blank" rel="noopener"><code>initState</code></a>。 子类化State可以重写<a href="https://docs.flutter.io/flutter/widgets/State-class.html#initState" target="_blank" rel="noopener"><code>initState</code></a>，以完成仅需要执行一次的工作。 </p>
<h2 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h2><p>使用key来控制框架将在widget重建时与哪些其他widget匹配。要求两个widget具有相同的<a href="https://docs.flutter.io/flutter/widgets/Widget-class.html#key" target="_blank" rel="noopener"><code>key</code></a>和<a href="https://docs.flutter.io/flutter/widgets/Widget-class.html#runtimeType" target="_blank" rel="noopener"><code>runtimeType</code></a>。</p>
<ul>
<li>如果没有key，当前构建中的第一个条目将始终与前一个构建中的第一个条目同步</li>
<li>通过给列表中的每个条目分配为“语义” key，无限列表可以更高效，因为框架将同步条目与匹配的语义key并因此具有相似（或相同）的可视外观。此外，语义上同步条目意味着在有状态子widget中，保留的状态将附加到相同的语义条目上，而不是附加到相同数字位置上的条目。</li>
</ul>
<h3 id="全局-Key"><a href="#全局-Key" class="headerlink" title="全局 Key"></a>全局 Key</h3><p>使用全局key来唯一标识子widget。全局key在整个widget层次结构中必须是全局唯一的，这与局部key不同，后者只需要在同级中唯一。由于它们是全局唯一的，因此可以使用全局key来检索与widget关联的状态。</p>
<hr>
<h2 id="零散控件笔记"><a href="#零散控件笔记" class="headerlink" title="零散控件笔记"></a>零散控件笔记</h2><h3 id="NestedScrollView"><a href="#NestedScrollView" class="headerlink" title="NestedScrollView"></a>NestedScrollView</h3><p>详细说明：<a href="https://api.flutter.dev/flutter/widgets/NestedScrollView-class.html" target="_blank" rel="noopener">NestedScrollView类</a></p>
<figure class="highlight dart"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> _tabs = [<span class="string">'Tab1'</span>, <span class="string">'Tab2'</span>, <span class="string">'Tab3'</span>];</span><br><span class="line"></span><br><span class="line">DefaultTabController(</span><br><span class="line">  length: _tabs.length,</span><br><span class="line">  child: NestedScrollView( <span class="comment">// 滚动嵌套</span></span><br><span class="line">    headerSliverBuilder: (BuildContext context, <span class="built_in">bool</span> innerBoxIsScrolled) {</span><br><span class="line">      <span class="keyword">return</span> &lt;Widget&gt;[</span><br><span class="line">        SliverOverlapAbsorber( <span class="comment">// 水平重叠控件</span></span><br><span class="line">          handle: NestedScrollView.sliverOverlapAbsorberHandleFor(context),</span><br><span class="line">          child: SliverAppBar( <span class="comment">// 可收起的标题栏</span></span><br><span class="line">            title: <span class="keyword">const</span> Text(<span class="string">'Books'</span>), <span class="comment">// 标题栏文字</span></span><br><span class="line">            pinned: <span class="keyword">true</span>, <span class="comment">// 是否阻止标题栏向上收起</span></span><br><span class="line">            expandedHeight: <span class="number">150.0</span>, <span class="comment">// 可收起的距离</span></span><br><span class="line">            forceElevated: innerBoxIsScrolled,</span><br><span class="line">            bottom: TabBar( <span class="comment">// 添加水平Tab标签</span></span><br><span class="line">              tabs: _tabs.map((<span class="built_in">String</span> name) =&gt; Tab(text: name)).toList(),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ];</span><br><span class="line">    },</span><br><span class="line">    body: TabBarView( <span class="comment">// 可水平滑动的大页面</span></span><br><span class="line">      children: _tabs.map((<span class="built_in">String</span> name) { <span class="comment">// 添加每个Tab子页面</span></span><br><span class="line">        <span class="keyword">return</span> SafeArea(</span><br><span class="line">          top: <span class="keyword">false</span>,</span><br><span class="line">          bottom: <span class="keyword">false</span>,</span><br><span class="line">          child: Builder(</span><br><span class="line">            builder: (BuildContext context) {</span><br><span class="line">              <span class="keyword">return</span> CustomScrollView( <span class="comment">// 竖向列表框</span></span><br><span class="line">                key: PageStorageKey&lt;<span class="built_in">String</span>&gt;(name),</span><br><span class="line">                slivers: &lt;Widget&gt;[</span><br><span class="line">                  SliverOverlapInjector( <span class="comment">// 支持多个重叠手势？</span></span><br><span class="line">                    handle: NestedScrollView.sliverOverlapAbsorberHandleFor(context),</span><br><span class="line">                  ),</span><br><span class="line">                  SliverPadding(</span><br><span class="line">                    padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">                    sliver: SliverFixedExtentList( <span class="comment">// 添加竖向列表框items</span></span><br><span class="line">                      itemExtent: <span class="number">48.0</span>,</span><br><span class="line">                      delegate: SliverChildBuilderDelegate(</span><br><span class="line">                            (BuildContext context, <span class="built_in">int</span> index) {</span><br><span class="line">                          <span class="keyword">return</span> ListTile(</span><br><span class="line">                            title: Text(<span class="string">'Item <span class="subst">$index</span>'</span>),</span><br><span class="line">                          );</span><br><span class="line">                        },</span><br><span class="line">                        childCount: <span class="number">30</span>,</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                ],</span><br><span class="line">              );</span><br><span class="line">            },</span><br><span class="line">          ),</span><br><span class="line">        );</span><br><span class="line">      }).toList(),</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新：<time datetime="2021-10-18T09:38:46.475Z" itemprop="dateUpdated">2021-10-18 17:38:46</time>
</span>


        
        原文链接：<a href="/2020/02/25/Flutter学习笔记/" target="_blank" rel="external">http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/</a>
        
    </div>
    <footer>
        <div onclick="location.href='http://blog.iwxyi.com'">
            <img src="/img/avatar.jpg" alt="小乂">
            <a>小乂</a>
        </div>
    </footer>
</blockquote>

        
    <div class="page-reward">
        <nav class="myreward">
            <a id="rewardBtn" href="javascript:;"><span>打&nbsp;赏</span><span>装成好像很多人打赏的样子</span></a>
        </nav>
    </div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flutter/">Flutter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习笔记/">学习笔记</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/&title=《Flutter-学习笔记》 — 云笺&pic=http://blog.iwxyi.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/&title=《Flutter-学习笔记》 — 云笺&source=安装与运行Windows下载安装包：https://flutter.io/sdk-archive/#windows
临时镜像：
12export PUB_..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Flutter-学习笔记》 — 云笺&url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/&via=http://blog.iwxyi.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2020/02/28/Qt在Linux下透明窗口失效/" id="post-prev" class="post-nav-link">
        <h4 class="title" >
          上一篇：Qt在Linux下透明窗口失效
        </h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2020/02/24/CSS、JS瀑布流/" id="post-next" class="post-nav-link">
        <h4 class="title" data-hover="下一篇：CSS、JS瀑布流">下一篇：CSS、JS瀑布流</h4>
      </a>
    </div>
  
</nav>



    
    

    

    
    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'true' == 'true',
            verify: 'false' == 'true',
            appId: "sVjY7bBJXEfCtStMqASgnlL6-gzGzoHsz",
            appKey: "8mL43PwxikVMVpiQx4Pq7wwt",
            avatar: "mm",
            placeholder: "留下您宝贵的建议——",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->



</article>

</div>

        <footer class="footer">
    <div class="footer-content">
        <span class="power">
            <i class="icon icon-lg icon-copyright"></i>
            2019
            <i class="icon icon-lg icon-heart"></i>
            <a href="http://blog.iwxyi.com">http://blog.iwxyi.com</a>
            <br/>
            Power by
            <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a>&nbsp;·&nbsp;
            Theme
            <a class="tomotoeslink" href="https://github.com/tomotoes/hexo-theme-tomotoes/" target="_blank" rel="external nofollow">tomotoes</a>
        </span>

        <br/>

        <span id="RunTime" style="color:#a7a7a2;"></span>
        <br/>

        <span>
            
	<i class="icon icon-lg icon-user">
<span id="busuanzi_container_site_uv" style='display:none'>
       访问用户：<span id="busuanzi_value_site_uv"></span>
    </span>人</i>
    ·
    <i class="icon icon-lg icon-eye">
    <span id="busuanzi_container_site_pv" style='display:none'>
      访问次数：<span id="busuanzi_value_site_pv"></span>
    </span>次
    </i>


        </span>
        <br/>

        <span class="license"><a  target="_blank" rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">博客内容遵循 知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
    </div>
</footer>

    </main>
    
        
<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        <span>感谢您的鼓励支持！</span>
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" data-img="/img/dog.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.png" data-alipay="/img/alipay.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechatPay">&nbsp;&nbsp;微信&nbsp;&nbsp;</span>
                <span class="reward-toggle-item alipayPay">支付宝</span>
            </div>
        </label>
        
        <i class="icon icon-caret-up"></i>
    </div>
</div>


    
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/&title=《Flutter-学习笔记》 — 云笺&pic=http://blog.iwxyi.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/&title=《Flutter-学习笔记》 — 云笺&source=安装与运行Windows下载安装包：https://flutter.io/sdk-archive/#windows
临时镜像：
12export PUB_..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Flutter-学习笔记》 — 云笺&url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/&via=http://blog.iwxyi.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.iwxyi.com/2020/02/25/Flutter学习笔记/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p class="wechatshare">扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACKElEQVR42u3aMY7DMAwF0dz/0t42jZT5pA2sqXEV7DoSXwqCFPX54Of6esg7+/dX/yW7tB4ZMmS8lnFtH7LB/ls89P2+P34gGTJkHMBYBUcCqm2ffv4RswwZMmSEQadJdr+yDBkyZNQY/ZZ4tZoMGTJkdJrY2tFb7TDuwV5chgwZL2R0UuTTnx+Zb8iQIeNVjCt8+k1vOh5AUcmQIWM0gye4FNMfdsaXP2TIkDGUQYKrHd9zdrqXDBkyTmbwAg4d0+NDOv73ZTwyZMgYzUgbTj4SIEm2P36I5wkyZMh4LYMskY4eeUol8fBvyZAhYyqjdp2UjxDIGIA3w8EgU4YMGeMYfSov4zoHfMvvypAh4xhGJ+HWGlFekgaTWBkyZAxi8GN3foWCJ9zg0H+f3GXIkHEYg5RlnSctHG8YXsqQIWMcIz0m4w0w3zEuOmXIkDGa0U926WFZ2mHXxpwyZMiYxLhrA14UpoUj+hFlyJAxmtEfWHZ+gv37abKWIUPGbMZdG3cC3SdQso4MGTJOY3QuW9x7Vh8UjjJkyDiMkQaHrkQ0LmegGGTIkDGUUbsqkabL9JoXXyHI1jJkyHgtI01ztYKPJ+La5QwZMmScwEjTJW8sSbhpIl6uLEOGjAMYTwTUSdbpeFWGDBky+AWIWmqOr3yR5WTIkHEwgxeUtTb1x6WKfRMrQ4aM0QzSxJK/8KKw9qYMGTLOZPTrrtr26cjz8fJRhgwZ/5HxBw7q0T+CFEUEAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <!-- waves按钮特效 -->
<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<!-- 主题配置脚本 -->
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };
</script>

<!-- jquery -->
<script src="/js/jquery.min.js?v=3.0"></script>

<!-- 搜索 -->

<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item waves-block waves-effect" onclick="location.href='{path}'">
    <div class="title ellipsis" title="{title}">{title}</div>
</li>
</template>


<!-- main博客脚本 -->
<script src="/js/main.min.js?v=3.0" ></script>

<!-- 动画&配置 -->
<script src="/js/script.min.js?v=3.0" ></script>

<!-- 脚本管理 -->
<script>

if(window.innerWidth > 800){
	/* 3D标题 */
	$(".content-header").on("mousemove", threedee);

	/* 底部追随鼠标 */
	$(".footer").hover(2);

	/* gotop键的涟漪 */
	$("#gotop").hover(1);

	/* 赞赏的粒子雨 */
	$("#reward").hover(3);

	/* 微信公众号的底部渲染 */
	$("#wechat").hover(4);

    /* 标题跳动 */
    $(".archivestitle").bumpyText();

	/* 图片点击放大 */
	const postimg = jQuery(".post-content img:not(.github-emoji)");
	postimg.on("click",function(){

		mask.classList.add("in");
		main.classList.add("Mask");
		menu.classList.add("Mask");
		var myimg = this.cloneNode(true);
		myimg.classList.add("imgShow");

		setTimeout(function(){
			jQuery(myimg).animate({
				opacity:"1"
			},1000);
		},0);

		document.body.appendChild(myimg);

		myimg.onclick=function(){
			document.body.removeChild(myimg);
			mask.classList.remove("in");
			main.classList.remove("Mask");
			menu.classList.remove("Mask");
		};

	});

}

/* 名字跳动 */
$("#name").bumpyText();


/* 网站运行时间 */
setInterval(function () {
	setTime("2019/10/11");
}, 1000);

/* 文章块的淡出 */
postshow();

/* 座右铭 */

   getHitokoto();



/* 粘贴提示 */
G($(".post-content"), location.href, "小乂");


/* 控制台 */
if (window.console && window.console.log) {
	setTimeout(function () {
		console.log("\n %c 一个坏掉的番茄 %c  © Simon Ma  http://tomotoes.com \n\n", "color:#FFFFFB;background:#1abc9c;padding:5px 0;border-radius:.5rem 0 0 .5rem;", "color:#FFFFFB;background:#080808;padding:5px 0;border-radius:0 .5rem .5rem 0;");
	}, 0);
}

</script>




<!-- 公式渲染 -->



<!-- 不蒜子 -->

<script defer src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false}});</script></body>
</html>
